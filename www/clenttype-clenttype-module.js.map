{"version":3,"sources":["webpack:///./src/app/pages/clenttype/clenttype.module.ts","webpack:///./src/app/pages/clenttype/clenttype.page.html","webpack:///./src/app/pages/clenttype/clenttype.page.scss","webpack:///./src/app/pages/clenttype/clenttype.page.ts"],"names":[],"mappings":"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","file":"clenttype-clenttype-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ClenttypePage } from './clenttype.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ClenttypePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ClenttypePage]\n})\nexport class ClenttypePageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-title>Client type</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n    <ion-list>\\n        <ion-radio-group>\\n          <ion-list-header>\\n            Please choose client type\\n          </ion-list-header>\\n      \\n          <ion-item>\\n            <ion-label>Dealer</ion-label>\\n            <ion-radio value=\\\"dealer\\\" checked (ionSelect)=\\\"radioChecked('dealer')\\\"></ion-radio>\\n          </ion-item>\\n      \\n          <ion-item>\\n            <ion-label>Distributor</ion-label>\\n            <ion-radio value=\\\"distributor\\\" (ionSelect)=\\\"radioChecked('distributor')\\\"></ion-radio>\\n          </ion-item>\\n        </ion-radio-group>\\n\\n      </ion-list>\\n\\n      <div padding>\\n          <ion-button size=\\\"small\\\" type=\\\"submit\\\" (click)=\\\"addCheckin()\\\">Confirm</ion-button>\\n        </div>\\n\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2NsZW50dHlwZS9jbGVudHR5cGUucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { MenuController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { NativeGeocoder, NativeGeocoderResult, NativeGeocoderOptions } from '@ionic-native/native-geocoder/ngx';\nimport * as moment from 'moment';\nimport { ApiService } from './../../services/api.service';\nimport { ToastController } from '@ionic/angular';\n\n\n@Component({\n  selector: 'app-clenttype',\n  templateUrl: './clenttype.page.html',\n  styleUrls: ['./clenttype.page.scss'],\n})\nexport class ClenttypePage implements OnInit {\n\n  clientType: string = 'dealer';\n  latitude: any;\n  longitude: any;\n  locationName: any;\n  params: any;\n  userDetails:any;\n  constructor(\n    public menu: MenuController,\n    private router: Router,\n    private geolocation: Geolocation,\n    private nativeGeocoder: NativeGeocoder,\n    private apiService: ApiService,\n    public toastController: ToastController\n    ) {}\n\n  ngOnInit() {\n    this.userDetails = JSON.parse(localStorage.getItem(\"userDetails\"));\n\n  }\n\n  radioChecked(val) {\n    console.log('radioGroupChange : ', val);\n    this.clientType = val;\n    localStorage.setItem('clienttype', val);\n  }\n\n  addCheckin(){\n   // this.router.navigateByUrl('/create-check-in/' + this.clientType );\n    this.getGeoLocation();\n  }\n\n\n  getGeoLocation() {\n    this.geolocation.getCurrentPosition({ enableHighAccuracy: true }).then((resp) => {\n      this.whereInTheEarth(resp.coords.latitude, resp.coords.longitude);\n      this.latitude = resp.coords.latitude;\n      this.longitude = resp.coords.longitude;\n    }).catch((error) => {\n      console.log('Error getting location', error);\n    });\n  }\n\n\n\n\n  whereInTheEarth(latitude, longitude) {\n    let options: NativeGeocoderOptions = {\n      useLocale: true,\n      maxResults: 5\n    };\n\n    this.nativeGeocoder.reverseGeocode(latitude, longitude, options)\n      .then((result: NativeGeocoderResult[]) => {\n        if (result[0]) {\n          this.locationName = \"\";\n          if (result[0]['subThoroughfare']) {\n            this.locationName = this.locationName + result[0]['subThoroughfare'] + \",\";\n          }\n          if (result[0]['thoroughfare']) {\n            this.locationName = this.locationName + result[0]['thoroughfare'] + \",\";\n          }\n          if (result[0]['subLocality']) {\n            this.locationName = this.locationName + result[0]['subLocality'] + \",\";\n          }\n          if (result[0]['locality']) {\n            this.locationName = this.locationName + result[0]['locality'] + \",\";\n          }\n          if (result[0]['subAdministrativeArea']) {\n            this.locationName = this.locationName + result[0]['subAdministrativeArea'] + \",\";\n          }\n          if (result[0]['administrativeArea']) {\n            this.locationName = this.locationName + result[0]['administrativeArea'] + \",\";\n          }\n          if (result[0]['postalCode']) {\n            this.locationName = this.locationName + result[0]['postalCode'] + \",\";\n          }\n          if (result[0]['countryName']) {\n            this.locationName = this.locationName + result[0]['countryName'] + \",\";\n          }\n\n          console.log(\"= this.locationName final= : \" + this.locationName);\n\n          let time = moment().format('DD-MM-YYYY, hh:mm:ss a'); // August 31st 2019, 9:52:34 pm\n\n\n          console.log('==this.userDetails ID === : ' + this.userDetails._id);\n\n         \n        console.log('====LOCATION====== : '+this.locationName);\n\n            console.log('=FOR CHECKIN==');\n            let params = {\n              created_by: this.userDetails._id,\n              checkin_time:  moment().format('DD-MM-YYYY, hh:mm:ss a') ,\n              checkin_loc: this.locationName,\n            };\n\n            this.apiService.postData('/startCheckIn', params).subscribe(result => {\n              console.log(\"=startCheckIn= :\"+JSON.stringify(result));\n              if(result['success'] == \"1\") {\n                this.router.navigateByUrl('/create-check-in/' + this.clientType );\n              } else {\n                this.presentToast(result['message'], 'bottom');\n              }\n            }, error => {\n              alert(JSON.stringify(error));\n            });\n        \n\n        } else {\n          this.locationName = \"Unable to fetch geolocation\";\n          this.presentToast('Please check the location settings', 'bottom');\n        }\n      })\n      .catch((error: any) => {\n        this.locationName = \"Unable to fetch geolocation\";\n        this.presentToast('Please check the location settings Or :' + error, 'bottom');\n      });\n\n  }\n\n  async presentToast(msg, position) {\n    const toast = await this.toastController.create({\n      message: msg,\n      position: position,\n      duration: 2000\n    });\n    toast.present();\n  }\n\n  //\n\n}"],"sourceRoot":""}